<idea-plugin xmlns:xi="http://www.w3.org/2001/XInclude">
  <id>edument.perl6-idea-plugin</id>
  <version>2021.04.0</version>
  <name>Comma Complete Edition (Raku Language Support)</name>
  <vendor email="info@commaide.com" url="https://commaide.com/">Edument Central Europe sro.</vendor>

  <description><![CDATA[
<p>
  The Comma Complete plugin provides Raku language support for IDEA-based IDEs.
  Features include:
</p>

<ul>
  <li>Detailed and customizable syntax highlighting</li>
  <li>Auto-completion of various program elements</li>
  <li>Live code analysis to detect common problems</li>
  <li>Numerous code navigation features</li>
  <li>A range of refactorings, such as rename, extract variable, and extract method</li>
  <li>Running scripts</li>
  <li>Running tests and viewing the results</li>
  <li>Debugging</li>
  <li>Test coverage reporting</li>
  <li>Profiling</li>
</ul>

<p>
  The same functionality is also available as an independent IDE. For more details, see
  <a href="https://commaide.com/">the Comma website</a>.
</p>
  ]]>
  </description>

  <change-notes><![CDATA[
<ul>
<li>Add various Live Templates to ease working with the <code>Cro::HTTP</code>, <code>Cro::WebApp</code> and <code>Red</code> distributions. For example, typing <code>cro-http-get</code> and pressing enter will stub the code for making a HTTP request with <code>Cro::HTTP::Client</code>, and allow you to fill in the URL and variables that it declares. It will, if required, add a <code>use</code> statement and <code>depends</code> entry to the <code>META6.json</code>. Typing <code>red-model</code> and pressing enter will do similar</li>
<li>Display percentage values in profiler results as graphs to provide a visual indication of the results rather than just the raw numbers</li>
<li>Improve Pod6 parsing (fix issues with code blocks) and improve live preview (properly render multi-paragraph lists and nested lists)</li>
<li>Support completion and resolution for dynamic variables. For now, they are assumed to be visible from anywhere in the project, rather than attempting any kind of call-chain analysis</li>
<li>Provide completion of user-defined <code>is</code> traits, both from externals and in the project. This is especially useful for things like <code>is password</code> from the <code>Cro::WebApp::Form</code> module or <code>is serial</code> from the <code>Red</code> ORM</li>
<li>The <code>Related Symbol</code> feature now recognizes <code>Cro::WebApp::Template</code> templates, allowing jumping from the string literal in e.g. <code>template &quot;foo.crotmp&quot;</code> to the corresponding template file, respecting the <code>template-location</code> calls</li>
<li>Consider <code>is TypeName</code> declarations on variables when completing methods (e.g. <code>my %h is SetHash</code> will offer <code>SetHash</code> methods on <code>%h</code>)</li>
<li>Support the <code>of</code> trait for specifying a type when completing methods (e.g. <code>my @a of Int; for @a {...}</code>)</li>
</ul>
  ]]>
  </change-notes>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
  <idea-version since-build="145.0"/>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
       on how to target different products -->
  <depends>com.intellij.modules.lang</depends>

  <extensionPoints>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/extensionPoints/*)"/>
  </extensionPoints>

  <extensions defaultExtensionNs="edument.perl6idea">
    <frameworkCall implementation="edument.perl6idea.cro.CroFrameworkCall"/>
  </extensions>

  <extensions defaultExtensionNs="com.intellij">
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/extensions/*)"/>
    <configurationType implementation="edument.perl6idea.run.Perl6CompleteRunConfigurationType"/>
    <configurationType implementation="edument.perl6idea.testing.Perl6CompleteTestConfigurationType"/>
    <runConfigurationProducer implementation="edument.perl6idea.testing.Perl6CompleteTestRunConfigurationProducer"/>
    <configurationType implementation="edument.perl6idea.cro.run.Perl6CompleteCroRunConfigurationType"/>
    <programRunner implementation="edument.perl6idea.coverage.Perl6CoverageRunner"/>
    <projectViewNodeDecorator implementation="edument.perl6idea.coverage.Perl6ProjectViewCoverageDecorator"/>
    <programRunner implementation="edument.perl6idea.profiler.run.Perl6ProfileRunner"/>
    <executor implementation="edument.perl6idea.run.Perl6ProfileExecutor"/>
    <lang.refactoringSupport language="Perl6" implementationClass="edument.perl6idea.refactoring.Perl6CompleteRefactoringSupportProvider"/>
    <inlineActionHandler implementation="edument.perl6idea.refactoring.inline.variable.Perl6InlineVariableActionHandler"/>
    <inlineActionHandler implementation="edument.perl6idea.refactoring.inline.call.Perl6InlineCallActionHandler"/>
    <projectService serviceImplementation="edument.perl6idea.coverage.Perl6CoverageDataManagerImpl"
                    serviceInterface="edument.perl6idea.coverage.Perl6CoverageDataManager"/>
  </extensions>

  <actions>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/actions/*)"/>
    <action id="Perl6Plugin.ExtractPrivateMethod" class="edument.perl6idea.actions.ExtractPrivateMethodAction" text="Private Method..."
            description="Turn this selected code fragment into a private method">
      <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt P"/>
      <add-to-group group-id="IntroduceActionsGroup" anchor="after" relative-to-action="ExtractMethod"/>
    </action>
    <action id="Perl6Plugin.ExtractRoutine" class="edument.perl6idea.actions.ExtractRoutineAction" text="Subroutine..."
            description="Turn this selected code fragment into a subroutine">
      <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt R" second-keystroke="O"/>
      <add-to-group group-id="IntroduceActionsGroup" anchor="before" relative-to-action="ExtractMethod"/>
    </action>
    <action id="Perl6Plugin.ExtractRegex" class="edument.perl6idea.actions.ExtractRegexAction" text="Extract Rule..."
            description="Turn this selected code fragment into a separate regex">
      <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt R" second-keystroke="E"/>
      <add-to-group group-id="IntroduceActionsGroup" anchor="before" relative-to-action="ExtractMethod"/>
    </action>
    <group id="Perl6Plugin.CoverageMenu">
      <action id="Perl6Plugin.HideCoverage" class="edument.perl6idea.coverage.Perl6CoverageHideAction"
              text="Hide Raku Coverage Data"/>
      <add-to-group group-id="CoverageMenu"/>
      <separator/>
    </group>
  </actions>

  <module-components>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/module-components/*)"/>
  </module-components>

  <project-components>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/project-components/*)"/>
  </project-components>

</idea-plugin>