<idea-plugin xmlns:xi="http://www.w3.org/2001/XInclude">
  <id>edument.perl6-idea-plugin</id>
  <version>2021.04.0</version>
  <name>Comma Community Edition (Raku Language Support)</name>
  <vendor email="info@commaide.com" url="https://commaide.com/">Edument Central Europe sro.</vendor>

  <description><![CDATA[
<p>
  The Comma Community plugin provides Raku language support for IDEA-based IDEs.
  Features include:
</p>

<ul>
  <li>Detailed and customizable syntax highlighting</li>
  <li>Auto-completion of various program elements</li>
  <li>Live code analysis to detect common problems</li>
  <li>Numerous code navigation features</li>
  <li>Rename refactoring</li>
  <li>Running scripts</li>
  <li>Running tests and viewing the results</li>
  <li>Debugging</li>
</ul>

<p>
  The same functionality is also available as an independent IDE. For more details, see
  <a href="https://commaide.com/">the Comma website</a>.
</p>

<p>
  Comma Complete is also available under a subscription model. It includes further
  refactorings, code coverage analysis, and profiling support. Visit
  <a href="https://commaide.com/">the Comma website</a> to learn more.
</p>
  ]]>
  </description>

  <change-notes><![CDATA[
<ul>
<li>Migrate to the 2020.03 version of the platform</li>
<li>Provide a Pod live preview in the editor window when editing <code>pod6</code> or <code>rakudoc</code> files. It supports many formatting codes and block types, although not yet all of them. Links to other files in the project using the <code>L&lt;&gt;</code> format code will open an editor for that file (and some further heuristics try to guess destinations of other links)</li>
<li>Reduce memory consumption resulting from caching information about modules (the caching is done in order to more rapidly open additional or different projects in the same Comma session)</li>
<li>Speed up indexing of external modules</li>
<li>Detect and highlight Pod code blocks, including inline code blocks (the style used is configurable)</li>
<li>Highlight the <code>|</code> separator in Pod <code>L&lt;&gt;</code> and <code>X&lt;&gt;</code> format constructs, so it&#39;s easier to see the text and link part</li>
<li>Add a <code>New Document (Pod)</code> action, creating a new empty Pod document file; the <code>.rakudoc</code> extension is added unless otherwise specified</li>
<li>Provide completion for meta-class methods, allowing completion of e.g. <code>model Foo {}; Foo.^columns</code> for the <code>Red</code> ORM. It works for CORE types as well</li>
<li>Add detection of duplicated conditional branches; Unicode/ASCII operator equivalents and commuting operators are accounted for</li>
<li>Highlight hashes created with the <code>{}</code> syntax differently from code blocks (this can be configured in the color scheme, but is on by default)</li>
<li>Add a weak warning where it seems likely that the user intended to form a hash using the <code>{}</code> syntax, but will end up with a code block instead</li>
<li>Fix a rare exception when the module metadata editor was used with coverage results displayed</li>
<li>Fix displaying coverage for files with the <code>.rakumod</code> extension</li>
<li>Fix a bug where the colonpair syntax to specify a named call argument with a numeric value was not recognized, leading to a false positive annotation</li>
<li>Fix a bug where a sub-signature was not correctly recognized, leading to a false positive annotating</li>
<li>Fix a bug where the <code>New Test</code> action created a file without an extension if the parent path contained the <code>.</code> character, but the file name specified had no extension itself</li>
<li>Fix parsing of package definitions with indirect package references like <code>::?CLASS</code></li>
<li>Fix a bug where calls made by the accessor syntax (<code>$.foo($arg)</code>) were mistakenly annotated as having a signature mismatch</li>
<li>Do not wrongly annotate indirect references (e.g. <code>::(&#39;Foo&#39;)</code>) as undeclared subs</li>
<li>Fix parsing of ternary operators without spaces</li>
<li>Parse the set equivalence operator in both ASCII and Unicode forms, and make it possible to convert between them</li>
<li>Fix <code>Create Desktop Entry</code> action in <code>Tools</code> menu</li>
<li>Fix false negatives for an annotation warning about some modules not being found in the ecosystem</li>
<li>Fix a bug where symbols of the <code>Cro::HTTP::Test</code> module were not resolved properly</li>
<ul>
  ]]></change-notes>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
  <idea-version since-build="145.0"/>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
       on how to target different products -->
  <depends>com.intellij.modules.lang</depends>

  <extensionPoints>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/extensionPoints/*)"/>
  </extensionPoints>

  <extensions defaultExtensionNs="edument.perl6idea">
    <frameworkCall implementation="edument.perl6idea.cro.CroFrameworkCall"/>
  </extensions>

  <extensions defaultExtensionNs="com.intellij">
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/extensions/*)"/>
    <runConfigurationProducer implementation="edument.perl6idea.testing.Perl6CommunityTestRunConfigurationProducer"/>
    <configurationType implementation="edument.perl6idea.run.Perl6CommunityRunConfigurationType"/>
    <configurationType implementation="edument.perl6idea.testing.Perl6CommunityTestConfigurationType"/>
    <configurationType implementation="edument.perl6idea.cro.run.Perl6CommunityCroRunConfigurationType"/>
    <lang.refactoringSupport language="Perl6" implementationClass="edument.perl6idea.refactoring.Perl6CommunityRefactoringSupportProvider"/>
  </extensions>

  <actions>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/actions/*)"/>
    <action id="Perl6Plugin.UpgradeToCommaComplete" class="edument.perl6idea.actions.UpdateToCommaCompleteAction" text="Upgrade to Comma Complete "
            description="Visit Comma website" icon="/icons/camelia.png">
      <add-to-group group-id="HelpMenu" anchor="after" relative-to-action="About"/>
    </action>
  </actions>

  <module-components>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/module-components/*)"/>
  </module-components>

  <project-components>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/project-components/*)"/>
  </project-components>

</idea-plugin>