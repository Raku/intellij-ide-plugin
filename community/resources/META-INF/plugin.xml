<idea-plugin xmlns:xi="http://www.w3.org/2001/XInclude">
  <id>edument.perl6-idea-plugin</id>
  <version>2021.01.0</version>
  <name>Comma Community Edition (Raku Language Support)</name>
  <vendor email="info@commaide.com" url="https://commaide.com/">Edument Central Europe sro.</vendor>

  <description><![CDATA[
<p>
  The Comma Community plugin provides Raku language support for IDEA-based IDEs.
  Features include:
</p>

<ul>
  <li>Detailed and customizable syntax highlighting</li>
  <li>Auto-completion of various program elements</li>
  <li>Live code analysis to detect common problems</li>
  <li>Numerous code navigation features</li>
  <li>Rename refactoring</li>
  <li>Running scripts</li>
  <li>Running tests and viewing the results</li>
  <li>Debugging</li>
</ul>

<p>
  The same functionality is also available as an independent IDE. For more details, see
  <a href="https://commaide.com/">the Comma website</a>.
</p>

<p>
  Comma Complete is also available under a subscription model. It includes further
  refactorings, code coverage analysis, and profiling support. Visit
  <a href="https://commaide.com/">the Comma website</a> to learn more.
</p>
  ]]>
  </description>

  <change-notes><![CDATA[
<ul>
<li>Improve the UI of the timeline view: make zooming with the mouse feel more natural, provide some keyboard controls for navigating the chart, fix a scrolling issue, and provide a help icon giving usage hints on hover</li>
<li>Improve method completion for cases when the return type is not in scope of the caller</li>
<li>Improve completion for more complex kinds of type, such as typed arrays and types with explicit definedness</li>
<li>Highlight calls to in-project and external deprecated subroutines and methods; also strike them out in the autocomplete suggestions</li>
<li>Extend Unicode operator conversion (both live and intention-based) to handle hyper operators (e.g. &#39;&gt;&gt;+&lt;&lt;&#39;)</li>
<li>When there is a <code>for</code> loop over a typed array, infer the type of the topic or loop parameter in order to provide better reference resolution and completion suggestions</li>
<li>Add a quickfix to delete unused lexical variables and unused private attributes</li>
<li>Add quickfixes to either add the &#39;is export&#39; trait or to remove unused lexical subroutines</li>
<li>Add an intention to stub a new subroutine when a call to an unknown subroutine is present</li>
<li>Annotate illegal uses of <code>self</code> or <code>$.foo</code></li>
<li>Annotate calls where too few or too many positional arguments are passed, unaccepted named arguments are passed, or required named arguments are missing</li>
<li>Annotate attempts to assign a value to a readonly parameter, respecting traits like <code>is copy</code> or <code>is rw</code></li>
<li>Add an intention offering to replace <code>$.foo</code> with <code>$!foo</code> when <code>self</code> is only partially available (such as attributes declaration or <code>BUILD</code> submethod implementation)</li>
<li>Add an intention to cover Raku terms (<code>pi</code>, <code>tau</code>, and <code>set</code>) to their Unicode equivalents and vice versa</li>
<li>Add an intention to switch between fatarrow pairs and colonpairs</li>
<li>Fix a parsing error when encountering whitespace before the closing <code>]</code> in a type argument list</li>
<li>Do not wrongly annotate <code>self</code> in a regex declaration as being unavailable</li>
<li>Fix a false positive in the signature annotator related to parameters with default values</li>
<li>Fix issues in detection of calls with the provided arguments not matching the signature</li>
<li>Do not annotate positional capture variables inside of non-capturing groups as unknown</li>
<li>Fix bogus &#39;Empty regex not allowed&#39; annotation when encountering an unrecognized internal regex modifier, give a proper error message instead</li>
<li>Fix a long standing bug of the auto completion popup appearing on typing certain infix operator</li>
<li>Improve detection of <code>$/</code> and <code>$_</code> implicit usages to not mark such parameters as unused</li>
<li>Only names of unused variables are now highlighted as such, instead of highlighting the initializing expression too</li>
<li>Parse <code>&lt;@.foo&gt;</code> in Cro template language files</li>
<li>Fix an unwanted behavior when Comma instance created excessive files in temporary directories</li>
<li>Fix a rare exception related to the signature correctness annotation</li>
</ul>
  ]]></change-notes>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
  <idea-version since-build="145.0"/>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
       on how to target different products -->
  <depends>com.intellij.modules.lang</depends>

  <extensionPoints>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/extensionPoints/*)"/>
  </extensionPoints>

  <extensions defaultExtensionNs="edument.perl6idea">
    <frameworkCall implementation="edument.perl6idea.cro.CroFrameworkCall"/>
  </extensions>

  <extensions defaultExtensionNs="com.intellij">
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/extensions/*)"/>
    <runConfigurationProducer implementation="edument.perl6idea.testing.Perl6CommunityTestRunConfigurationProducer"/>
    <configurationType implementation="edument.perl6idea.run.Perl6CommunityRunConfigurationType"/>
    <configurationType implementation="edument.perl6idea.testing.Perl6CommunityTestConfigurationType"/>
    <configurationType implementation="edument.perl6idea.cro.run.Perl6CommunityCroRunConfigurationType"/>
    <lang.refactoringSupport language="Perl6" implementationClass="edument.perl6idea.refactoring.Perl6CommunityRefactoringSupportProvider"/>
  </extensions>

  <actions>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/actions/*)"/>
    <action id="Perl6Plugin.UpgradeToCommaComplete" class="edument.perl6idea.actions.UpdateToCommaCompleteAction" text="Upgrade to Comma Complete "
            description="Visit Comma website" icon="/icons/camelia.png">
      <add-to-group group-id="HelpMenu" anchor="after" relative-to-action="About"/>
    </action>
  </actions>

  <module-components>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/module-components/*)"/>
  </module-components>

  <project-components>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/project-components/*)"/>
  </project-components>

</idea-plugin>