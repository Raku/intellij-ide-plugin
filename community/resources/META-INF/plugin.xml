<idea-plugin xmlns:xi="http://www.w3.org/2001/XInclude">
  <id>edument.perl6-idea-plugin</id>
  <version>2020.07.0</version>
  <name>Comma Community Edition (Raku Language Support)</name>
  <vendor email="info@commaide.com" url="https://commaide.com/">Edument Central Europe sro.</vendor>

  <description><![CDATA[
<p>
  The Comma Community plugin provides Raku language support for IDEA-based IDEs.
  Features include:
</p>

<ul>
  <li>Detailed and customizable syntax highlighting</li>
  <li>Auto-completion of various program elements</li>
  <li>Live code analysis to detect common problems</li>
  <li>Numerous code navigation features</li>
  <li>Rename refactoring</li>
  <li>Running scripts</li>
  <li>Running tests and viewing the results</li>
  <li>Debugging</li>
</ul>

<p>
  The same functionality is also available as an independent IDE. For more details, see
  <a href="https://commaide.com/">the Comma website</a>.
</p>

<p>
  Comma Complete is also available under a subscription model. It includes further
  refactorings, code coverage analysis, and profiling support. Visit
  <a href="https://commaide.com/">the Comma website</a> to learn more.
</p>
  ]]>
  </description>

  <change-notes><![CDATA[
<ul>
<li>Migrate to version 202 of the IntelliJ platform. Now the minimal supported IntelliJ product major version for the Comma plugin is 2020.2. Backward compatibility for 2020.1 is expected, but not guaranteed</li>
<li>Add automatic conversion for ASCII operators to Unicode equivalents, disabled by default (enabled in &#39;File -&gt; Settings -&gt; Code Style -&gt; Raku -&gt; Editor Behavior&#39;). If conversion is enabled, on typing ASCII operators are converted into Unicode equivalents. If backspace is pressed the conversion is reverted</li>
<li>Highlight unused lexical variables, parameters, attributes, lexical subroutines and private methods</li>
<li>Introduce a new 'Raku Compilers' tab in Project Settings, allowing to create new, change and remove IDE SDK (Raku compiler) instances</li>
<li>Intention to manually convert infix operators between ASCII and Unicode forms</li>
<li>Parameter info for <code>new</code> method call now shows a signature comprised of public attributes if no explicit <code>new</code> implementation is present</li>
<li>Make auto-completion faster and more correct in some cases</li>
<li>Pair simplification intention now handles simplification of <code>foo =&gt; True</code> and <code>foo =&gt; False</code> into <code>:foo</code> and <code>:!foo</code> correspondingly. Also forms like <code>:foo(True)</code> and <code>:foo(False)</code> are handled</li>
<li>Make method completion correctly handle methods from stubbed packages past the current position in file</li>
<li>Always format code and declaration stubs to take a single line, which is a common code style default</li>
<li>Warn about technically valid, but unusual parameters quantifier use in signatures: when a positional parameter is marked as required and when a parameter with a default is marked as optional</li>
<li>Indicate an error if a parameter with a default value is marked as required</li>
<li>Unify the UI of `New Script`, `New Module` and `New Test` actions, make them recognize the case when the file with the specified name already exists</li>
<li>Add a `model` option to `New Module` action, which creates a stub for a Red ORM model and ensures that Red is specified in the dependencies</li>
<li>Add a `Mark directory as` group of actions, which can be used to specify a directory as a source root of a particular type</li>
<li>Fix a bug where some multi sub signatures were duplicated in parameter info</li>
<li>Fix a hang when typing two heredoc openers like <code>Q:to/IN/, Q:to</code></li>
<li>Fix an exception on typing <code>my $\(42)</code></li>
<li>Fix an exception related to obtaining documentation when two or more projects are opened with the same Raku compiler specified</li>
<li>Fix an exception in the annotator spotting a missing 'unit' keyword</li>
<li>Fix the validation tip in the New Test dialog when a test with a specified name already exists</li>
<li>Fix a possible exception in the backup Raku compiler service provided by the plugin</li>
<li>Fix possible exception related to the secondary Raku SDK</li>
<li>Fix an exception for modules with recursive dependencies</li>
<li>Fix Test Run Configuration execution for Windows</li>
<li>Fix a hotkey specified in tip text</li>
<li>Fix the `EVALFILE` subroutine being detected as undeclared</li>
</ul>
  ]]></change-notes>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
  <idea-version since-build="145.0"/>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
       on how to target different products -->
  <depends>com.intellij.modules.lang</depends>

  <extensionPoints>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/extensionPoints/*)"/>
  </extensionPoints>

  <extensions defaultExtensionNs="edument.perl6idea">
    <frameworkCall implementation="edument.perl6idea.cro.CroFrameworkCall"/>
  </extensions>

  <extensions defaultExtensionNs="com.intellij">
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/extensions/*)"/>
    <runConfigurationProducer implementation="edument.perl6idea.testing.Perl6CommunityTestRunConfigurationProducer"/>
    <configurationType implementation="edument.perl6idea.run.Perl6CommunityRunConfigurationType"/>
    <configurationType implementation="edument.perl6idea.testing.Perl6CommunityTestConfigurationType"/>
    <configurationType implementation="edument.perl6idea.cro.run.Perl6CommunityCroRunConfigurationType"/>
    <lang.refactoringSupport language="Perl6" implementationClass="edument.perl6idea.refactoring.Perl6CommunityRefactoringSupportProvider"/>
  </extensions>

  <actions>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/actions/*)"/>
    <action id="Perl6Plugin.UpgradeToCommaComplete" class="edument.perl6idea.actions.UpdateToCommaCompleteAction" text="Upgrade to Comma Complete "
            description="Visit Comma website" icon="/icons/camelia.png">
      <add-to-group group-id="HelpMenu" anchor="after" relative-to-action="About"/>
    </action>
  </actions>

  <module-components>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/module-components/*)"/>
  </module-components>

  <project-components>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/project-components/*)"/>
  </project-components>

</idea-plugin>