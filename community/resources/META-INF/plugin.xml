<idea-plugin xmlns:xi="http://www.w3.org/2001/XInclude">
  <id>edument.perl6-idea-plugin</id>
  <version>2021.10.0</version>
  <name>Comma Community Edition (Raku Language Support)</name>
  <vendor email="info@commaide.com" url="https://commaide.com/">Edument Central Europe sro.</vendor>

  <description><![CDATA[
<p>
  The Comma Community plugin provides Raku language support for IDEA-based IDEs.
  Features include:
</p>

<ul>
  <li>Detailed and customizable syntax highlighting</li>
  <li>Auto-completion of various program elements</li>
  <li>Live code analysis to detect common problems</li>
  <li>Numerous code navigation features</li>
  <li>Rename refactoring</li>
  <li>Running scripts</li>
  <li>Running tests and viewing the results</li>
  <li>Debugging</li>
</ul>

<p>
  The same functionality is also available as an independent IDE. For more details, see
  <a href="https://commaide.com/">the Comma website</a>.
</p>

<p>
  Comma Complete is also available under a subscription model. It includes further
  refactorings, code coverage analysis, and profiling support. Visit
  <a href="https://commaide.com/">the Comma website</a> to learn more.
</p>
  ]]>
  </description>

  <change-notes><![CDATA[
<ul>
<li>Warn about most cases of duplicate declarations for packages, routines and variables</li>
<li>Make the debugger more stable: avoid excessive triggering of the same breakpoint, fix a bug in stepping, and prevent some other issues (also depends on fixes released in Rakudo 2021.10)</li>
<li>Properly resolve modules from different directories marked as <code>Source Root</code>. Marking or unmarking a directory now triggers re-calculation of module accessibility without a need to restart the IDE</li>
<li>Auto-complete for Pod directives such as <code>=begin</code> and <code>=head1</code></li>
<li>Detect more cases of bogus assignment to a constant or to a literal</li>
<li>Suggest Raku package managers found from user&#39;s <code>PATH</code> environment variable in the Project Settings dialog in Comma</li>
<li>Fix a false positive in the signature annotator</li>
<li>Fix a false positive in the call arguments annotator</li>
<li>Fix a bug in the intention converting a postfix condition to a block, which caused the caret to jump to the wrong place afterwards</li>
<li>Improve class line marker and grammar to action method navigation performance in larger projects</li>
<li>Add an integration with two Raku package managers: zef and Pakku. The corresponding package manager can be set in the Project Settings dialog and then used to detect which dependencies of a project are not installed, and trigger their installation from within the IDE</li>
<li>Add a tool for migrating from legacy Perl 6 extensions to Raku ones. By default, on project open it detects unambiguous Perl 6 extensions used in the project and suggests to update them. If the project is not mixed with Perl code, a more complete set of checks can be run from the Tools menu, to include ambiguous legacy extensions such as <code>t</code> or <code>pm</code></li>
<li>Add an annotator to detect incorrect hyphen usage in a regex character class, and a quickfix for the case</li>
<li>Fix incorrect indentation of heredoc text blocks when formatting</li>
<li>Support method argument lists in the Cro template parser</li>
<li>Do not mark the special variables <code>$Â¢</code> and <code>%_</code> as unknown in a regex declaration</li>
<li>Fix a bug where renaming a module with the <code>.rakudoc</code> extension would instead replace it with the <code>.pm6</code> legacy extension; now on module renaming the original extension is preserved</li>
<li>Improve performance during typing for large projects</li>
</ul>
  ]]></change-notes>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
  <idea-version since-build="145.0"/>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
       on how to target different products -->
  <depends>com.intellij.modules.lang</depends>

  <extensionPoints>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/extensionPoints/*)"/>
  </extensionPoints>

  <extensions defaultExtensionNs="edument.perl6idea">
    <frameworkCall implementation="edument.perl6idea.cro.CroFrameworkCall"/>
    <frameworkCall implementation="edument.perl6idea.cro.CroTemplateCall"/>
  </extensions>

  <extensions defaultExtensionNs="com.intellij">
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/extensions/*)"/>
    <runConfigurationProducer implementation="edument.perl6idea.testing.Perl6CommunityTestRunConfigurationProducer"/>
    <configurationType implementation="edument.perl6idea.run.Perl6CommunityRunConfigurationType"/>
    <configurationType implementation="edument.perl6idea.testing.Perl6CommunityTestConfigurationType"/>
    <configurationType implementation="edument.perl6idea.cro.run.Perl6CommunityCroRunConfigurationType"/>
    <lang.refactoringSupport language="Perl6" implementationClass="edument.perl6idea.refactoring.Perl6CommunityRefactoringSupportProvider"/>
  </extensions>

  <actions>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/actions/*)"/>
    <action id="Perl6Plugin.UpgradeToCommaComplete" class="edument.perl6idea.actions.UpdateToCommaCompleteAction" text="Upgrade to Comma Complete "
            description="Visit Comma website" icon="/icons/camelia.png">
      <add-to-group group-id="HelpMenu" anchor="after" relative-to-action="About"/>
    </action>
  </actions>

  <module-components>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/module-components/*)"/>
  </module-components>

  <project-components>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/project-components/*)"/>
  </project-components>

  <applicationListeners>
    <xi:include href="/META-INF/meta/perl6-common.xml" xpointer="xpointer(/idea-plugin/applicationListeners/*)"/>
  </applicationListeners>

</idea-plugin>